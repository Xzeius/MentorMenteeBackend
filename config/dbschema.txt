
-- Use the database
USE college_db;

-- Drop tables if they exist
DROP TABLE IF EXISTS student_other;
DROP TABLE IF EXISTS student_education;
DROP TABLE IF EXISTS student_parents;
DROP TABLE IF EXISTS student_personal;
DROP TABLE IF EXISTS student_details;
DROP TABLE IF EXISTS academic_id;

-- Academic details table
CREATE TABLE academic_id (
    semester INT NOT NULL,
    branch VARCHAR(50) NOT NULL,
    division CHAR(1) NOT NULL,
    batch VARCHAR(10) NOT NULL,
    ac_id VARCHAR(50) NOT NULL PRIMARY KEY
);

CREATE TABLE student_details (
    prn VARCHAR(10) NOT NULL PRIMARY KEY,
    fullname VARCHAR(255) NOT NULL,
    ac_id VARCHAR(50) NOT NULL,
    FOREIGN KEY (ac_id) REFERENCES academic_id(ac_id)
);

-- Table for core personal details
CREATE TABLE student_personal (
    prn VARCHAR(10) NOT NULL PRIMARY KEY,
    photo TEXT,
    date_of_birth DATE NOT NULL,
    mother_tongue VARCHAR(50) NOT NULL,
    blood_group VARCHAR(3),
    year_of_admission YEAR NOT NULL,
    current_address VARCHAR(50),
    mobile VARCHAR(15),
    landline VARCHAR(15),
    email VARCHAR(50),
    FOREIGN KEY (prn) REFERENCES student_details(prn)
);

-- Table for parents' details
CREATE TABLE student_parents (
    prn VARCHAR(10) NOT NULL PRIMARY KEY,
    father_name VARCHAR(255) NOT NULL,
    father_occupation VARCHAR(255) NOT NULL,
    father_mobile_number VARCHAR(15) NOT NULL,
    mother_name VARCHAR(255) NOT NULL,
    mother_occupation VARCHAR(255) NOT NULL,
    mother_mobile_number VARCHAR(15) NOT NULL,
    FOREIGN KEY (prn) REFERENCES student_details(prn)
);

-- Table for educational details
CREATE TABLE student_education (
    prn VARCHAR(10) NOT NULL PRIMARY KEY,
    ssc_percentage FLOAT NOT NULL,
    ssc_medium VARCHAR(50) NOT NULL,
    ssc_board VARCHAR(50) NOT NULL,
    hsc_or_diploma_percentage FLOAT NOT NULL,
    hsc_or_diploma_medium VARCHAR(50) NOT NULL,
    hsc_or_diploma_board VARCHAR(50) NOT NULL,
    cet_percentile FLOAT,
    jee_percentile FLOAT,
    FOREIGN KEY (prn) REFERENCES student_details(prn)
);

-- Table for other details
CREATE TABLE student_other (
    prn VARCHAR(10) NOT NULL PRIMARY KEY,
    hobbies TEXT,
    strengths TEXT,
    weakness TEXT,
    short_term_goals TEXT,
    long_term_goals TEXT,
    extra_curricular TEXT,
    FOREIGN KEY (prn) REFERENCES student_details(prn)
);




-- Insert sample academic IDs
INSERT INTO academic_id (semester, branch, division, batch, ac_id) VALUES
(1, 'IOT', 'H', 'H1', '1_IOT_H_H1'),
(2, 'ECS', 'H', 'H2', '2_ECS_H_H2'),
(1, 'EXTC', 'H', 'H3', '1_EXT_H_H3');

-- Insert sample student details
INSERT INTO student_details (prn, fullname, ac_id) VALUES
('PRN001', 'John Doe', '1_IOT_H_H1'),
('PRN002', 'Jane Smith', '2_ECS_H_H2'),
('PRN003', 'Alice Johnson', '1_EXT_H_H3');

-- Insert sample student personal details
INSERT INTO student_personal (prn, photo, date_of_birth, mother_tongue, blood_group, year_of_admission, current_address, mobile, landline, email) VALUES
('PRN001', 'john_doe_photo.jpg', '1998-05-15', 'English', 'O+', 2020, '123 Main St, Anytown', '+1234567890', '+1987654321', 'john.doe@example.com'),
('PRN002', 'jane_smith_photo.jpg', '1999-03-20', 'French', 'A-', 2021, '456 Oak Ave, Othertown', '+9876543210', '+8765432109', 'jane.smith@example.com'),
('PRN003', 'alice_johnson_photo.jpg', '2000-01-10', 'Spanish', 'B+', 2019, '789 Elm St, Anycity', '+1122334455', '+9988776655', 'alice.johnson@example.com');

-- Insert sample parent details
INSERT INTO student_parents (prn, father_name, father_occupation, father_mobile_number, mother_name, mother_occupation, mother_mobile_number) VALUES
('PRN001', 'Michael Doe', 'Engineer', '+1234567890', 'Susan Doe', 'Teacher', '+1987654321'),
('PRN002', 'Robert Smith', 'Doctor', '+9876543210', 'Emily Smith', 'Nurse', '+8765432109'),
('PRN003', 'David Johnson', 'Architect', '+1122334455', 'Laura Johnson', 'Artist', '+9988776655');

-- Insert sample education details
INSERT INTO student_education (prn, ssc_percentage, ssc_medium, ssc_board, hsc_or_diploma_percentage, hsc_or_diploma_medium, hsc_or_diploma_board, cet_percentile, jee_percentile) VALUES
('PRN001', 95.5, 'English', 'State Board', 87.3, 'English', 'State Board', 92.5, 88.5),
('PRN002', 92.0, 'French', 'ICSE', 89.5, 'French', 'ICSE', 90.0, 94.2),
('PRN003', 88.5, 'Spanish', 'CBSE', 85.0, 'Spanish', 'CBSE', 89.0, 91.0);

-- Insert sample other details
INSERT INTO student_other (prn, hobbies, strengths, weakness, short_term_goals, long_term_goals, extra_curricular) VALUES
('PRN001', 'Reading, Swimming', 'Analytical thinking, Leadership', 'Public speaking', 'Complete certification courses', 'Become a manager in IT industry', 'Debating, Drama club'),
('PRN002', 'Gardening, Painting', 'Empathy, Creativity', 'Impatience', 'Learn new languages', 'Start own business', 'Music band, Volunteering'),
('PRN003', 'Photography, Traveling', 'Problem-solving, Time management', 'Perfectionism', 'Get internship abroad', 'Research in architecture', 'Sports, Coding club');












































-- Table for entry point details
USE colleg_db;
-- Create a new table to combine all details
drop table if exists student_details ;
CREATE TABLE student_details (
    prn VARCHAR(15) PRIMARY KEY,
    photo VARCHAR(255),
    branch VARCHAR(100),
    fullname VARCHAR(255),
    date_of_birth DATE,
    year_of_admission INT,
    mother_tongue VARCHAR(50),
    present_address VARCHAR(255),
    mobile_number VARCHAR(15),
    landline VARCHAR(15),
    email VARCHAR(255),
    blood_group VARCHAR(10),
    father_name VARCHAR(255),
    father_occupation VARCHAR(100),
    father_mobile_number VARCHAR(15),
    mother_name VARCHAR(255),
    mother_occupation VARCHAR(100),
    mother_mobile_number VARCHAR(15),
    ssc_percentage DECIMAL(5,2),
    ssc_medium VARCHAR(50),
    ssc_board VARCHAR(100),
    hsc_or_diploma_percentage DECIMAL(5,2),
    hsc_or_diploma_medium VARCHAR(50),
    hsc_or_diploma_board VARCHAR(100),
    cet_percentile DECIMAL(5,2),
    jee_percentile DECIMAL(5,2),
    hobbies TEXT,
    strengths TEXT,
    weakness TEXT,
    short_term_goals TEXT,
    long_term_goals TEXT,
    extra_curricular TEXT
);

INSERT INTO student_details (
    prn, photo, branch, fullname, date_of_birth, year_of_admission, mother_tongue, present_address, mobile_number, landline, email, blood_group,
    father_name, father_occupation, father_mobile_number, mother_name, mother_occupation, mother_mobile_number,
    ssc_percentage, ssc_medium, ssc_board, hsc_or_diploma_percentage, hsc_or_diploma_medium, hsc_or_diploma_board, cet_percentile, jee_percentile,
    hobbies, strengths, weakness, short_term_goals, long_term_goals, extra_curricular
) VALUES
('1234567890', 'path/to/photo1.jpg', 'Computer Science', 'John Doe', '2000-01-15', 2018, 'English', '123 Main St, City, Country', '1234567890', '0987654321', 'john.doe@example.com', 'O+',
 'Michael Doe', 'Engineer', '1112223333', 'Mary Doe', 'Teacher', '4445556666',
 85.5, 'English', 'CBSE', 88.0, 'English', 'CBSE', 95.0, 90.0,
 'Reading, Coding', 'Problem-solving, Teamwork', 'Procrastination', 'Graduate with honors', 'Become a software engineer', 'Volunteering, Sports'),

('0987654321', 'path/to/photo2.jpg', 'Mechanical Engineering', 'Jane Smith', '2001-02-20', 2019, 'Hindi', '456 Elm St, City, Country', '9876543210', '0123456789', 'jane.smith@example.com', 'A+',
 'Robert Smith', 'Doctor', '7778889999', 'Patricia Smith', 'Nurse', '0001112222',
 90.0, 'Hindi', 'State Board', 85.5, 'Hindi', 'State Board', 92.0, 88.5,
 'Painting, Traveling', 'Creativity, Leadership', 'Public speaking', 'Secure an internship', 'Become a project manager', 'Debate club, Music'),

('1122334455', 'path/to/photo3.jpg', 'Electrical Engineering', 'Alice Brown', '1999-11-30', 2017, 'Marathi', '789 Oak St, City, Country', '9988776655', '0112233445', 'alice.brown@example.com', 'B+',
 'David Brown', 'Lawyer', '5556667777', 'Susan Brown', 'Architect', '8889990000',
 78.0, 'Marathi', 'ICSE', 80.0, 'Marathi', 'ICSE', 85.0, 82.5,
 'Writing, Photography', 'Communication, Adaptability', 'Overthinking', 'Publish a research paper', 'Pursue higher education', 'Student council, Drama club'),

('5566778899', 'path/to/photo4.jpg', 'Civil Engineering', 'Bob Johnson', '2002-05-10', 2020, 'English', '101 Pine St, City, Country', '1231231234', '3213213210', 'bob.johnson@example.com', 'AB+',
 'James Johnson', 'Businessman', '3334445555', 'Jennifer Johnson', 'Homemaker', '6667778888',
 82.5, 'English', 'State Board', 83.0, 'English', 'State Board', 88.0, 85.0,
 'Gaming, Blogging', 'Critical thinking, Time management', 'Impatience', 'Master a new programming language', 'Start a tech company', 'Robotics club, Chess team'),

('6677889900', 'path/to/photo5.jpg', 'Information Technology', 'Charlie Davis', '2001-07-25', 2019, 'Gujarati', '202 Maple St, City, Country', '4564564567', '6546546543', 'charlie.davis@example.com', 'B-',
 'Richard Davis', 'Police Officer', '2223334444', 'Barbara Davis', 'Banker', '5556667777',
 87.0, 'Gujarati', 'CBSE', 89.0, 'Gujarati', 'CBSE', 92.5, 90.5,
 'Cooking, Hiking', 'Leadership, Organization', 'Perfectionism', 'Complete a certification course', 'Become a project leader', 'Cultural events, Volunteer work');

-- Modify photo to NOT NULL and change data type
ALTER TABLE student_details
MODIFY photo TEXT NOT NULL;

-- Modify branch to NOT NULL and change data type length
ALTER TABLE student_details
MODIFY branch VARCHAR(50) NOT NULL;

-- Modify prn to NOT NULL with changed length
ALTER TABLE student_details
MODIFY prn VARCHAR(10) NOT NULL PRIMARY KEY;

-- Modify fullname to NOT NULL
ALTER TABLE student_details
MODIFY fullname VARCHAR(255) NOT NULL;

-- Modify date_of_birth to NOT NULL
ALTER TABLE student_details
MODIFY date_of_birth DATE NOT NULL;

-- Modify year_of_admission to YEAR and NOT NULL
ALTER TABLE student_details
MODIFY year_of_admission YEAR NOT NULL;

-- Modify mother_tongue to NOT NULL
ALTER TABLE student_details
MODIFY mother_tongue VARCHAR(50) NOT NULL;

-- Modify present_address to TEXT and NOT NULL
ALTER TABLE student_details
MODIFY present_address TEXT NOT NULL;

-- Modify mobile_number to NOT NULL
ALTER TABLE student_details
MODIFY mobile_number VARCHAR(15) NOT NULL;

-- Modify father_name to NOT NULL
ALTER TABLE student_details
MODIFY father_name VARCHAR(255) NOT NULL;

-- Modify father_occupation to NOT NULL
ALTER TABLE student_details
MODIFY father_occupation VARCHAR(255) NOT NULL;

-- Modify father_mobile_number to NOT NULL
ALTER TABLE student_details
MODIFY father_mobile_number VARCHAR(15) NOT NULL;

-- Modify mother_name to NOT NULL
ALTER TABLE student_details
MODIFY mother_name VARCHAR(255) NOT NULL;

-- Modify mother_occupation to NOT NULL
ALTER TABLE student_details
MODIFY mother_occupation VARCHAR(255) NOT NULL;

-- Modify mother_mobile_number to NOT NULL
ALTER TABLE student_details
MODIFY mother_mobile_number VARCHAR(15) NOT NULL;

-- Modify landline to allow NULL
ALTER TABLE student_details
MODIFY landline VARCHAR(15);

-- Modify email to NOT NULL
ALTER TABLE student_details
MODIFY email VARCHAR(255) NOT NULL;

-- Modify ssc_percentage to FLOAT and NOT NULL
ALTER TABLE student_details
MODIFY ssc_percentage FLOAT NOT NULL;

-- Modify ssc_medium to NOT NULL
ALTER TABLE student_details
MODIFY ssc_medium VARCHAR(50) NOT NULL;

-- Modify ssc_board to NOT NULL
ALTER TABLE student_details
MODIFY ssc_board VARCHAR(50) NOT NULL;

-- Modify hsc_or_diploma_percentage to FLOAT and NOT NULL
ALTER TABLE student_details
MODIFY hsc_or_diploma_percentage FLOAT NOT NULL;

-- Modify hsc_or_diploma_medium to NOT NULL
ALTER TABLE student_details
MODIFY hsc_or_diploma_medium VARCHAR(50) NOT NULL;

-- Modify hsc_or_diploma_board to NOT NULL
ALTER TABLE student_details
MODIFY hsc_or_diploma_board VARCHAR(50) NOT NULL;

-- Modify cet_percentile to FLOAT
ALTER TABLE student_details
MODIFY cet_percentile FLOAT;

-- Modify jee_percentile to FLOAT
ALTER TABLE student_details
MODIFY jee_percentile FLOAT;

-- Modify blood_group to VARCHAR(3)
ALTER TABLE student_details
MODIFY blood_group VARCHAR(3);

-- Modify hobbies to TEXT
ALTER TABLE student_details
MODIFY hobbies TEXT;

-- Modify strengths to TEXT
ALTER TABLE student_details
MODIFY strengths TEXT;

-- Modify weakness to TEXT
ALTER TABLE student_details
MODIFY weakness TEXT;

-- Modify short_term_goals to TEXT
ALTER TABLE student_details
MODIFY short_term_goals TEXT;

-- Modify long_term_goals to TEXT
ALTER TABLE student_details
MODIFY long_term_goals TEXT;

-- Modify extra_curricular to TEXT
ALTER TABLE student_details
MODIFY extra_curricular TEXT;

